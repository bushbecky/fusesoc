#Auto generated by Edalize

TARGET   := {{ name }}
PCF_FILE := {{ pcf_file }}
PNR      ?= arachne
ARACHNE_PNR_OPTIONS := {{ arachne_pnr_options|join(' ') }}

all: $(TARGET).bin

%.blif: %.ys
	yosys -q -s $?
%_arachne.asc: $(PCF_FILE) %.blif
	arachne-pnr $(ARACHNE_PNR_OPTIONS) -q -p $? -o $@
%.bin: %_$(PNR).asc
	icepack $< $@

clean:
	rm -f $(TARGET).blif $(TARGET).asc $(TARGET).bin

